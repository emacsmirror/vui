#+title: Changelog
#+author: Boris Buliga

All notable changes to this project will be documented in this file.

The format is based on [[https://keepachangelog.com/en/1.1.0/][Keep a Changelog]], and this project adheres to [[https://semver.org/spec/v2.0.0.html][Semantic Versioning]].

* Unreleased

* v1.0.0 - 2025-12-28

** Breaking Changes

- *Symbol Prefix Rename*: All public macros now use the =vui-= prefix to comply with MELPA naming conventions:
  - =defcomponent= → =vui-defcomponent=
  - =defcontext= → =vui-defcontext=
  - =use-effect= → =vui-use-effect=
  - =use-ref= → =vui-use-ref=
  - =use-callback= → =vui-use-callback=
  - =use-callback*= → =vui-use-callback*=
  - =use-memo= → =vui-use-memo=
  - =use-memo*= → =vui-use-memo*=
  - =use-async= → =vui-use-async=

  See the README section "Using Shorter Names (Shorthands)" for how to use aliases or =read-symbol-shorthands= if you prefer the shorter names.

* v1.0.0-rc.3 - 2025-12-20

** Added

- =vui-mode= major mode for VUI buffers. Provides =vui-mode-map= that users and packages can extend (e.g., for =ace-link=). Packages using VUI can derive their own modes from =vui-mode= to add custom keybindings while preserving VUI and widget functionality.
- Documentation of Emacs 29 single-widget TAB navigation limitation (upstream [[https://debbugs.gnu.org/cgi/bugreport.cgi?bug=70594][bug#70594]], fixed in Emacs 30).

** Fixed

- =vui-table= now respects =:indent= from parent =vui-vstack=. Previously, only the first line of a table was indented; now all lines are properly indented.
- Cursor preservation now uses path-based widget tracking instead of index-based. Cursor correctly follows widgets when other widgets are added or removed before them. Previously, adding a widget above the cursor position would cause the cursor to land on the wrong widget after re-render.

** Changed

- =vui-mount= and =vui-render= now enable =vui-mode= instead of using =kill-all-local-variables=. This preserves derived modes and their keybindings across re-renders.

* v1.0.0-rc.2 - 2025-12-12

** Changed

- =vui-list= now returns =vstack= (for vertical, default) or =hstack= (for horizontal) instead of a fragment. This ensures proper indent propagation when nested inside layout containers.

** Added

- =:indent= and =:spacing= options for =vui-list=.
- Optional docstring support in =vui-defcomponent= macro.
- =:no-decoration= option for =vui-button= to render without brackets.
- =:help-echo= option for =vui-button= to control tooltip. Setting to =nil= disables tooltip generation, providing ~2x faster button creation for bulk rendering.

** Fixed

- Propagate indent through =hstack= to nested =vstack=. When a =vstack= was nested inside an =hstack=, the indent context from parent =vstacks= was lost, causing subsequent lines to render without proper indentation.
- Accumulate indent correctly in nested =vstacks=.
- Components that render to =nil= no longer affect =vstack= / =hstack= spacing. Previously, a component returning =nil= (e.g., =(when condition (vui-text "..."))=) would still cause separator newlines/spaces to be inserted, resulting in extra blank lines or spaces in the output.

* v1.0.0-rc.1 - 2025-12-03

Initial release candidate.

** Added

- Core rendering engine with virtual DOM diffing and reconciliation.
- Component system with =vui-defcomponent= macro.
- Hooks: =vui-use-effect=, =vui-use-memo=, =vui-use-ref=, =vui-use-async=.
- Layout primitives: =vui-vstack=, =vui-hstack=, =vui-box=, =vui-table=.
- Basic elements: =vui-text=, =vui-button=, =vui-link=, =vui-input=, =vui-checkbox=, =vui-select=.
- Utility components: =vui-fragment=, =vui-newline=, =vui-space=, =vui-list=, =vui-error-boundary=.
- Async utilities: =vui-async-callback=, =vui-with-async-context=.
- Debug mode with =vui-debug-mode=.
- Comprehensive documentation and examples.
